function KeySequence() {
  this._U_ = {};
}

KeySequence.prototype = {
  _I_: function (key) {
    // var len = key.length;
    // var lastChar = key[len-1];
    // if (lastChar === ']') {
    //     key = key.substring(0, len-2);
    // }
    var lookup = this._U_;

    var currentIndex = lookup[key]++;
    if (!currentIndex) {
      lookup[key] = 1;
      currentIndex = 0;
      return key;
    } else {
      return key + "_" + currentIndex;
    }
  }
};

module.exports = KeySequence;